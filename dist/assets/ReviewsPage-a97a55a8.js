import{r as e,j as r,ac as a,I as t,o as s,am as i}from"./vendor-53ad02c9.js";import{S as l}from"./index-85b95f55.js";import{u as o}from"./i18n-bc2ae836.js";import{m as n}from"./framer-motion-1142f750.js";import"./react-router-2bc809f8.js";const d=()=>{const{t:d,i18n:c}=o(),[m,x]=e.useState("idle"),[p,u]=e.useState(5),[h,g]=e.useState(0),[b,v]=e.useState({name:"",tour_type:"ubud_central",comment:"",ig_user:"",country:"es",auth:!1}),y="w-full px-6 py-4 bg-white dark:bg-white/5 border border-black/10 dark:border-white/10 rounded-2xl focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all placeholder:text-gray-400 font-medium",j="block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 ml-1";return"success"===m?r.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark min-h-screen pt-32 pb-24 px-6",children:[r.jsx(l,{title:d("seo.reviews.title"),description:d("seo.reviews.description")}),r.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[r.jsx(n.div,{initial:{scale:0},animate:{scale:1},className:"w-24 h-24 bg-green-100 dark:bg-green-500/20 text-green-600 dark:text-green-400 rounded-full flex items-center justify-center mx-auto mb-8",children:r.jsx(a,{size:48})}),r.jsx("h1",{className:"text-4xl font-black mb-4",children:d("reviews_page.form.success_title")}),r.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-12",children:d("reviews_page.form.success_text")}),r.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[r.jsxs("div",{className:"bg-primary/5 dark:bg-primary/10 p-8 rounded-[2.5rem] border border-primary/20",children:[r.jsx("p",{className:"text-gray-900 dark:text-white font-bold text-lg mb-6",children:d("reviews_page.form.ig_follow_text")}),r.jsxs("a",{href:"https://instagram.com/cantiktours",target:"_blank",rel:"noopener noreferrer",className:"btn-primary inline-flex items-center gap-3 px-8 py-4 text-base",children:[r.jsx(t,{size:20}),d("reviews_page.form.ig_follow_btn")]})]}),r.jsx("div",{className:"bg-white/50 dark:bg-white/5 p-8 rounded-[2.5rem] border border-black/5 dark:border-white/5",children:r.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm",children:d("reviews_page.form.wsp_groups_text")})})]})]})]}):r.jsxs("div",{className:"bg-bg-light dark:bg-bg-dark min-h-screen pt-32 pb-24 px-6 relative overflow-hidden",children:[r.jsx(l,{title:d("seo.reviews.title"),description:d("seo.reviews.description")}),r.jsx("div",{className:"absolute top-0 right-0 w-[600px] h-[600px] bg-primary/5 rounded-full blur-[120px] -translate-y-1/2 translate-x-1/2 pointer-events-none"}),r.jsx("div",{className:"absolute bottom-0 left-0 w-[400px] h-[400px] bg-blue-500/5 rounded-full blur-[100px] translate-y-1/2 -translate-x-1/2 pointer-events-none"}),r.jsxs("div",{className:"max-w-3xl mx-auto relative z-10",children:[r.jsxs("div",{className:"text-center mb-20",children:[r.jsxs(n.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-4xl md:text-7xl font-black mb-8 leading-tight",children:[d("reviews_page.title")," ",r.jsx("span",{className:"text-primary italic",children:d("reviews_page.title_accent")})]}),r.jsx(n.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-gray-600 dark:text-gray-400 text-lg md:text-2xl font-medium max-w-2xl mx-auto",children:d("reviews_page.subtitle")})]}),r.jsxs("div",{className:"max-w-2xl mx-auto",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[r.jsx("h2",{className:"text-2xl font-black",children:c.language.startsWith("es")?"Danos tu opinión":"Give us your feedback"}),r.jsx("div",{className:"flex-1 h-px bg-gray-100 dark:bg-white/5"})]}),r.jsx(n.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white dark:bg-white/5 border border-black/5 dark:border-white/5 p-8 rounded-[2.5rem] shadow-2xl shadow-black/5 backdrop-blur-sm",children:r.jsxs("form",{onSubmit:async e=>{e.preventDefault(),x("loading");try{if(!(await fetch("/api/save_review.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...b,rating:p,lang:c.language})})).ok)throw new Error("Failed to submit");x("success"),window.scrollTo({top:0,behavior:"smooth"})}catch(r){x("error")}},className:"space-y-6",children:[r.jsxs("div",{className:"text-center pb-6 border-b border-black/5 dark:border-white/5",children:[r.jsx("label",{className:"block text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] mb-4",children:d("reviews_page.form.rating")}),r.jsx("div",{className:"flex justify-center gap-2",children:[1,2,3,4,5].map(e=>r.jsx("button",{type:"button",onClick:()=>u(e),onMouseEnter:()=>g(e),onMouseLeave:()=>g(0),className:"transition-transform active:scale-90 p-1",children:r.jsx(s,{size:32,fill:(h||p)>=e?"#FBBF24":"transparent",className:(h||p)>=e?"text-yellow-400":"text-gray-300 dark:text-gray-600"})},e))})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:j,children:d("reviews_page.form.name")}),r.jsx("input",{id:"name",type:"text",required:!0,className:y,value:b.name,onChange:e=>v({...b,name:e.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"tour_type",className:j,children:d("reviews_page.form.tour_type")}),r.jsxs("select",{id:"tour_type",required:!0,className:y,value:b.tour_type,onChange:e=>v({...b,tour_type:e.target.value}),children:[r.jsx("option",{value:"ubud_central",children:d("reviews_page.form.tours.ubud_central")}),r.jsx("option",{value:"ubud_north",children:d("reviews_page.form.tours.ubud_north")}),r.jsx("option",{value:"lovina",children:d("reviews_page.form.tours.lovina")}),r.jsx("option",{value:"east",children:d("reviews_page.form.tours.east")}),r.jsx("option",{value:"lempuyang",children:d("reviews_page.form.tours.lempuyang")}),r.jsx("option",{value:"transfer",children:d("reviews_page.form.tours.transfer")}),r.jsx("option",{value:"custom",children:d("reviews_page.form.tours.custom")})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"country",className:j,children:d("reviews_page.form.country")}),r.jsx("select",{id:"country",required:!0,className:y,value:b.country,onChange:e=>v({...b,country:e.target.value}),children:Object.entries(d("reviews_page.form.countries",{returnObjects:!0})).map(([e,a])=>r.jsx("option",{value:e,children:a},e))})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"comment",className:j,children:d("reviews_page.form.comment")}),r.jsx("textarea",{id:"comment",required:!0,rows:4,placeholder:d("reviews_page.form.comment_placeholder"),className:`${y} resize-none`,value:b.comment,onChange:e=>v({...b,comment:e.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"ig_user",className:j,children:d("reviews_page.form.ig_user")}),r.jsxs("div",{className:"relative",children:[r.jsx(t,{size:20,className:"absolute left-5 top-1/2 -translate-y-1/2 text-gray-400"}),r.jsx("input",{id:"ig_user",type:"text",placeholder:d("reviews_page.form.ig_placeholder"),className:`${y} pl-14`,value:b.ig_user,onChange:e=>v({...b,ig_user:e.target.value})})]})]}),r.jsxs("div",{className:"p-4 rounded-2xl border-2 transition-all cursor-pointer flex items-start gap-4 "+(b.auth?"bg-primary/5 border-primary shadow-sm":"bg-white dark:bg-white/5 border-black/5 dark:border-white/5 hover:border-primary/30"),onClick:()=>v({...b,auth:!b.auth}),children:[r.jsx("div",{className:"mt-1 min-w-[20px] h-5 rounded-lg border-2 transition-colors flex items-center justify-center "+(b.auth?"bg-primary border-primary":"border-black/10 dark:border-white/10"),children:b.auth&&r.jsx(a,{size:12,className:"text-white"})}),r.jsx("p",{className:"text-xs font-bold transition-colors "+(b.auth?"text-primary":"text-gray-600 dark:text-gray-400"),children:d("reviews_page.form.auth")})]})]}),"error"===m&&r.jsxs(n.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-red-50 dark:bg-red-500/10 border border-red-200 dark:border-red-500/20 p-4 rounded-xl text-red-600 dark:text-red-400 text-xs font-bold text-center",children:[d("common.error"),". Por favor, inténtalo de nuevo."]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("button",{type:"submit",disabled:"loading"===m,className:"w-full py-4 rounded-2xl font-black text-base transition-all flex items-center justify-center gap-3 "+("loading"===m?"bg-gray-100 dark:bg-white/5 text-gray-400 cursor-not-allowed":"btn-primary shadow-xl shadow-primary/20"),children:"loading"===m?r.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):r.jsxs(r.Fragment,{children:[r.jsx(i,{size:18}),d("reviews_page.form.submit")]})}),r.jsx("p",{className:"text-[9px] text-center text-gray-400 font-medium px-4",children:d("reviews_page.form.implicit_consent")})]})]})})]})]})]})};export{d as default};
